(function(){"use strict";var e={2347:function(e,t,o){var i=o(4048),n=o.n(i),l=o(9199);const d={id:"app"},r=(0,l._)("footer",{class:"info"},[(0,l._)("p",null,[(0,l.Uk)("Based on a project written by "),(0,l._)("a",{href:"http://evanyou.me"},"Evan You")]),(0,l._)("p",null,[(0,l.Uk)("Original Vue TodoApp project is "),(0,l._)("a",{href:"https://vuejs.org/v2/examples/todomvc.html"},"here")]),(0,l._)("p",null,"Modified for this tutorial by Andrew Hughes")],-1);function s(e,t,o,i,n,s){const a=(0,l.up)("Todos");return(0,l.wg)(),(0,l.iD)("div",d,[(0,l.Wm)(a),r])}const a=(0,l._)("h1",{class:"title"},"Todos",-1),c={class:"email"},u={class:"todoapp"},h={key:0},p=(0,l._)("h1",{class:"loading"},"Loading...",-1),f=[p],m={key:1},v={class:"header"},g=["placeholder"],b={class:"main"},y={class:"todo-list"},w={class:"view"},_=["onUpdate:modelValue","onChange"],T=["onDblclick"],k=["onClick"],C=["onUpdate:modelValue","onBlur","onKeyup"],E={class:"footer"},O={class:"todo-count"},D={class:"filters"};function U(e,t,o,i,n,d){const r=(0,l.Q2)("todo-focus");return(0,l.wg)(),(0,l.iD)("div",null,[a,(0,l._)("h1",c,(0,l.zw)(d.userEmail),1),(0,l._)("section",u,[e.loading?((0,l.wg)(),(0,l.iD)("div",h,f)):((0,l.wg)(),(0,l.iD)("div",m,[(0,l._)("header",v,[(0,l.wy)((0,l._)("input",{class:"new-todo",autofocus:"",autocomplete:"off",placeholder:this.inputPlaceholder,"onUpdate:modelValue":t[0]||(t[0]=t=>e.newTodo=t),onKeyup:t[1]||(t[1]=(0,l.D2)(((...e)=>d.addTodo&&d.addTodo(...e)),["enter"]))},null,40,g),[[l.nr,e.newTodo]])]),(0,l.wy)((0,l._)("section",b,[(0,l.wy)((0,l._)("input",{class:"toggle-all",type:"checkbox","onUpdate:modelValue":t[2]||(t[2]=e=>d.allDone=e)},null,512),[[l.e8,d.allDone]]),(0,l._)("ul",y,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(d.filteredTodos,(t=>((0,l.wg)(),(0,l.iD)("li",{class:(0,l.C_)(["todo",{completed:t.completed,editing:t==e.editedTodo}]),key:t.id},[(0,l._)("div",w,[(0,l.wy)((0,l._)("input",{class:"toggle",type:"checkbox","onUpdate:modelValue":e=>t.completed=e,onChange:e=>d.completeTodo(t)},null,40,_),[[l.e8,t.completed]]),(0,l._)("label",{onDblclick:e=>d.editTodo(t)},(0,l.zw)(t.title),41,T),(0,l._)("button",{class:"destroy",onClick:e=>d.removeTodo(t)},null,8,k)]),(0,l.wy)((0,l._)("input",{class:"edit",type:"text","onUpdate:modelValue":e=>t.title=e,onBlur:e=>d.doneEdit(t),onKeyup:[(0,l.D2)((e=>d.doneEdit(t)),["enter"]),(0,l.D2)((e=>d.cancelEdit(t)),["esc"])]},null,40,C),[[l.nr,t.title],[r,t==e.editedTodo]])],2)))),128))])],512),[[l.F8,e.todos.length]]),(0,l.wy)((0,l._)("footer",E,[(0,l._)("span",O,[(0,l._)("strong",null,(0,l.zw)(d.remaining),1),(0,l.Uk)(" "+(0,l.zw)(d.pluralize)+" left ",1)]),(0,l._)("ul",D,[(0,l._)("li",null,[(0,l._)("a",{href:"#/all",onClick:t[3]||(t[3]=e=>d.setVisibility("all")),class:(0,l.C_)({selected:"all"==e.visibility})},"All",2)]),(0,l._)("li",null,[(0,l._)("a",{href:"#/active",onClick:t[4]||(t[4]=e=>d.setVisibility("active")),class:(0,l.C_)({selected:"active"==e.visibility})},"Active",2)]),(0,l._)("li",null,[(0,l._)("a",{href:"#/completed",onClick:t[5]||(t[5]=e=>d.setVisibility("completed")),class:(0,l.C_)({selected:"completed"==e.visibility})},"Completed",2)])]),(0,l.wy)((0,l._)("button",{class:"clear-completed",onClick:t[6]||(t[6]=(...e)=>d.removeCompleted&&d.removeCompleted(...e))}," Clear completed ",512),[[l.F8,e.todos.length>d.remaining]])],512),[[l.F8,e.todos.length]])]))]),e.error?((0,l.wg)(),(0,l.iD)("div",{key:0,class:"error",onClick:t[7]||(t[7]=(...e)=>d.handleErrorClick&&d.handleErrorClick(...e))}," ERROR: "+(0,l.zw)(this.error),1)):(0,l.kq)("",!0)])}var F=o(6265),j=o.n(F);const V="http://localhost:8080",$=j().create({baseURL:V,timeout:1e3});var x={createNew:(e,t)=>$.post("todos",{title:e,completed:t}),getAll:()=>$.get("todos",{transformResponse:[function(e){return e?JSON.parse(e)._embedded.todos:e}]}),updateForId:(e,t,o)=>$.put("todos/"+e,{title:t,completed:o}),removeForId:e=>$.delete("todos/"+e)};let I={all:function(e){return e},active:function(e){return e.filter((function(e){return!e.completed}))},completed:function(e){return e.filter((function(e){return e.completed}))}};var A={name:"To-dos",props:{activeUser:Object},data:function(){return{todos:[],newTodo:"",editedTodo:null,visibility:"all",loading:!0,error:null}},mounted(){x.getAll().then((e=>{this.$log.debug("Data loaded: ",e.data),this.todos=e.data})).catch((e=>{this.$log.debug(e),this.error="Failed to load todos"})).finally((()=>this.loading=!1))},computed:{filteredTodos:function(){return I[this.visibility](this.todos)},remaining:function(){return I.active(this.todos).length},allDone:{get:function(){return 0===this.remaining},set:function(e){this.todos.forEach((function(t){t.completed=e}))}},userEmail:function(){return this.activeUser?this.activeUser.email:""},inputPlaceholder:function(){return this.activeUser?this.activeUser.given_name+", what needs to be done?":"What needs to be done?"},pluralize:function(){return 1===I.active(this.todos).length?"item":"items"}},methods:{addTodo:function(){var e=this.newTodo&&this.newTodo.trim();e&&(x.createNew(e,!1).then((t=>{this.$log.debug("New item created",t),this.todos.push({id:t.data.id,title:e,completed:!1})})).catch((e=>{this.$log.debug(e),this.error="Failed to add todo"})),this.newTodo="")},setVisibility:function(e){this.visibility=e},completeTodo(e){x.updateForId(e.id,e.title,e.completed).then((e=>{this.$log.info("Item updated",e.data)})).catch((t=>{this.$log.debug(t),e.completed=!e.completed,this.error="Failed to update todo"}))},removeTodo:function(e){x.removeForId(e.id).then((()=>{this.$log.debug("Item removed:",e),this.todos.splice(this.todos.indexOf(e),1)})).catch((e=>{this.$log.debug(e),this.error="Failed to remove todo"}))},editTodo:function(e){this.beforeEditCache=e.title,this.editedTodo=e},doneEdit:function(e){this.editedTodo&&(this.$log.info("Item updated:",e),x.updateForId(e.id,e.title.trim(),e.completed).then((t=>{this.$log.info("Item updated:",t.data),this.editedTodo=null,e.title=e.title.trim()})).catch((t=>{this.$log.debug(t),this.cancelEdit(e),this.error="Failed to update todo"})),e.title||this.removeTodo(e))},cancelEdit:function(e){this.editedTodo=null,e.title=this.beforeEditCache},removeCompleted:function(){this.todos=I.active(this.todos)},handleErrorClick:function(){this.error=null}},directives:{"todo-focus":function(e,t){t.value&&e.focus()}}},z=o(89);const P=(0,z.Z)(A,[["render",U]]);var S=P,L={name:"App",components:{Todos:S},data:()=>({})};const M=(0,z.Z)(L,[["render",s]]);var N=M;const R={isEnabled:!0,logLevel:"debug",stringifyArguments:!1,showLogLevel:!0,showMethodName:!1,separator:"|",showConsoleColors:!0};(0,l.ri)(N).use(n(),R).mount("#app")}},t={};function o(i){var n=t[i];if(void 0!==n)return n.exports;var l=t[i]={exports:{}};return e[i].call(l.exports,l,l.exports,o),l.exports}o.m=e,function(){var e=[];o.O=function(t,i,n,l){if(!i){var d=1/0;for(c=0;c<e.length;c++){i=e[c][0],n=e[c][1],l=e[c][2];for(var r=!0,s=0;s<i.length;s++)(!1&l||d>=l)&&Object.keys(o.O).every((function(e){return o.O[e](i[s])}))?i.splice(s--,1):(r=!1,l<d&&(d=l));if(r){e.splice(c--,1);var a=n();void 0!==a&&(t=a)}}return t}l=l||0;for(var c=e.length;c>0&&e[c-1][2]>l;c--)e[c]=e[c-1];e[c]=[i,n,l]}}(),function(){o.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(t,{a:t}),t}}(),function(){o.d=function(e,t){for(var i in t)o.o(t,i)&&!o.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:t[i]})}}(),function(){o.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){o.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){var e={143:0};o.O.j=function(t){return 0===e[t]};var t=function(t,i){var n,l,d=i[0],r=i[1],s=i[2],a=0;if(d.some((function(t){return 0!==e[t]}))){for(n in r)o.o(r,n)&&(o.m[n]=r[n]);if(s)var c=s(o)}for(t&&t(i);a<d.length;a++)l=d[a],o.o(e,l)&&e[l]&&e[l][0](),e[l]=0;return o.O(c)},i=self["webpackChunkclient"]=self["webpackChunkclient"]||[];i.forEach(t.bind(null,0)),i.push=t.bind(null,i.push.bind(i))}();var i=o.O(void 0,[998],(function(){return o(2347)}));i=o.O(i)})();
//# sourceMappingURL=app.6bbaccd6.js.map